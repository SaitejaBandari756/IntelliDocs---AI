{"ast":null,"code":"const API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:8000/api\";\nexport async function uploadDocument(file, title) {\n  const form = new FormData();\n  form.append(\"file\", file);\n  form.append(\"title\", title || file.name);\n  try {\n    const res = await fetch(`${API_BASE}/documents/`, {\n      method: \"POST\",\n      body: form\n      // IMPORTANT: do not set 'Content-Type' header — the browser will set the right multipart boundary\n    });\n\n    // handle non-2xx\n    if (!res.ok) {\n      const text = await res.text();\n      throw new Error(`HTTP ${res.status} - ${text}`);\n    }\n    return await res.json();\n  } catch (err) {\n    console.error(\"Upload failed:\", err);\n    throw err; // rethrow so UI can show an alert\n  }\n}\nexport async function getDocuments() {\n  const res = await fetch(`${API_BASE}/documents/`);\n  return res.json();\n}\nexport async function getDocument(id) {\n  const res = await fetch(`${API_BASE}/documents/${id}/`);\n  return res.json();\n}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_BASE","uploadDocument","file","title","form","FormData","append","name","res","fetch","method","body","ok","text","Error","status","json","err","console","error","getDocuments","getDocument","id"],"sources":["F:/github_projects/document_intelligence_chatgpt/frontend/src/services/api.js"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:8000/api\";\r\n\r\nexport async function uploadDocument(file, title) {\r\n  const form = new FormData();\r\n  form.append(\"file\", file);\r\n  form.append(\"title\", title || file.name);\r\n\r\n  try {\r\n    const res = await fetch(`${API_BASE}/documents/`, {\r\n      method: \"POST\",\r\n      body: form,\r\n      // IMPORTANT: do not set 'Content-Type' header — the browser will set the right multipart boundary\r\n    });\r\n\r\n    // handle non-2xx\r\n    if (!res.ok) {\r\n      const text = await res.text();\r\n      throw new Error(`HTTP ${res.status} - ${text}`);\r\n    }\r\n    return await res.json();\r\n  } catch (err) {\r\n    console.error(\"Upload failed:\", err);\r\n    throw err; // rethrow so UI can show an alert\r\n  }\r\n}\r\n\r\nexport async function getDocuments() {\r\n  const res = await fetch(`${API_BASE}/documents/`);\r\n  return res.json();\r\n}\r\n\r\nexport async function getDocument(id) {\r\n  const res = await fetch(`${API_BASE}/documents/${id}/`);\r\n  return res.json();\r\n}\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,IAAI,2BAA2B;AAE9E,OAAO,eAAeC,cAAcA,CAACC,IAAI,EAAEC,KAAK,EAAE;EAChD,MAAMC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC3BD,IAAI,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;EACzBE,IAAI,CAACE,MAAM,CAAC,OAAO,EAAEH,KAAK,IAAID,IAAI,CAACK,IAAI,CAAC;EAExC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGZ,QAAQ,aAAa,EAAE;MAChDa,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEP;MACN;IACF,CAAC,CAAC;;IAEF;IACA,IAAI,CAACI,GAAG,CAACI,EAAE,EAAE;MACX,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACK,IAAI,CAAC,CAAC;MAC7B,MAAM,IAAIC,KAAK,CAAC,QAAQN,GAAG,CAACO,MAAM,MAAMF,IAAI,EAAE,CAAC;IACjD;IACA,OAAO,MAAML,GAAG,CAACQ,IAAI,CAAC,CAAC;EACzB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,gBAAgB,EAAEF,GAAG,CAAC;IACpC,MAAMA,GAAG,CAAC,CAAC;EACb;AACF;AAEA,OAAO,eAAeG,YAAYA,CAAA,EAAG;EACnC,MAAMZ,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGZ,QAAQ,aAAa,CAAC;EACjD,OAAOW,GAAG,CAACQ,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeK,WAAWA,CAACC,EAAE,EAAE;EACpC,MAAMd,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGZ,QAAQ,cAAcyB,EAAE,GAAG,CAAC;EACvD,OAAOd,GAAG,CAACQ,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}